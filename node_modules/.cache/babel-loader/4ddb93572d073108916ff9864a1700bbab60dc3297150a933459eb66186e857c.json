{"ast":null,"code":"var _jsxFileName = \"/Users/abriolon/Documents/Pro/Pro-perso/exercice/meal-generator/src/components/Ingredients.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Ingredients = () => {\n  _s();\n  const [allIngredients, setAllIngredients] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [url] = useState('https://www.themealdb.com/api/json/v1/1/');\n  const inputRef = useRef();\n  useEffect(() => {\n    fetch(url + 'list.php?i=list').then(res => res.json()).then(data => {\n      setAllIngredients(data.meals);\n      setIsLoading(true);\n    });\n  }, [isLoading, url]);\n  const filtreIngrdients = () => {\n    const searchValue = inputRef.current.value;\n    const filteredIngredients = allIngredients.filter(ingredient => {\n      return ingredient.strIngredient.toLowerCase().includes(searchValue.toLowerCase());\n    });\n    setAllIngredients(filteredIngredients);\n  };\n  const autocomplete = inp => {\n    var currentFocus;\n    inp.addEventListener(\"input\", function (e) {\n      var a,\n        b,\n        i,\n        val = this.value;\n      closeAllLists();\n      if (!val) {\n        return false;\n      }\n      currentFocus = -1;\n      a = document.createElement(\"DIV\");\n      a.setAttribute(\"id\", this.id + \"autocomplete-list\");\n      a.setAttribute(\"class\", \"autocomplete-items\");\n      this.parentNode.appendChild(a);\n      for (i = 0; i < allIngredients.length; i++) {\n        if (allIngredients[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\n          b = document.createElement(\"DIV\");\n          b.innerHTML = \"<strong>\" + allIngredients[i].substr(0, val.length) + \"</strong>\";\n          b.innerHTML += allIngredients[i].substr(val.length);\n          b.innerHTML += \"<input type='hidden' value='\" + allIngredients[i] + \"'>\";\n          b.addEventListener(\"click\", function (e) {\n            inp.value = this.getElementsByTagName(\"input\")[0].value;\n            closeAllLists();\n          });\n          a.appendChild(b);\n        }\n      }\n    });\n    inp.addEventListener(\"keydown\", function (e) {\n      var x = document.getElementById(this.id + \"autocomplete-list\");\n      if (x) x = x.getElementsByTagName(\"div\");\n      if (e.keyCode == 40) {\n        currentFocus++;\n        addActive(x);\n      } else if (e.keyCode == 38) {\n        //up\n        currentFocus--;\n        addActive(x);\n      } else if (e.keyCode == 13) {\n        e.preventDefault();\n        if (currentFocus > -1) {\n          if (x) x[currentFocus].click();\n        }\n      }\n    });\n    function addActive(x) {\n      if (!x) return false;\n      removeActive(x);\n      if (currentFocus >= x.length) currentFocus = 0;\n      if (currentFocus < 0) currentFocus = x.length - 1;\n      x[currentFocus].classList.add(\"autocomplete-active\");\n    }\n    function removeActive(x) {\n      for (var i = 0; i < x.length; i++) {\n        x[i].classList.remove(\"autocomplete-active\");\n      }\n    }\n    function closeAllLists(elmnt) {\n      var x = document.getElementsByClassName(\"autocomplete-items\");\n      for (var i = 0; i < x.length; i++) {\n        if (elmnt != x[i] && elmnt != inp) {\n          x[i].parentNode.removeChild(x[i]);\n        }\n      }\n    }\n    document.addEventListener(\"click\", function (e) {\n      closeAllLists(e.target);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Ingredients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        className: \"search-bar\",\n        ref: inputRef,\n        onInput: filtreIngrdients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ingredients\",\n          children: allIngredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ingredient-item\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: ingredient.strIngredient\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(Ingredients, \"2MjcMY1P7Ox/M8miyFsUIt4Lvr8=\");\n_c = Ingredients;\nexport default Ingredients;\nvar _c;\n$RefreshReg$(_c, \"Ingredients\");","map":{"version":3,"names":["useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","Ingredients","_s","allIngredients","setAllIngredients","isLoading","setIsLoading","url","inputRef","fetch","then","res","json","data","meals","filtreIngrdients","searchValue","current","value","filteredIngredients","filter","ingredient","strIngredient","toLowerCase","includes","autocomplete","inp","currentFocus","addEventListener","e","a","b","i","val","closeAllLists","document","createElement","setAttribute","id","parentNode","appendChild","length","substr","toUpperCase","innerHTML","getElementsByTagName","x","getElementById","keyCode","addActive","preventDefault","click","removeActive","classList","add","remove","elmnt","getElementsByClassName","removeChild","target","children","fileName","_jsxFileName","lineNumber","columnNumber","type","className","ref","onInput","map","index","_c","$RefreshReg$"],"sources":["/Users/abriolon/Documents/Pro/Pro-perso/exercice/meal-generator/src/components/Ingredients.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nconst Ingredients = () => {\n  const [allIngredients, setAllIngredients] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [url,] = useState('https://www.themealdb.com/api/json/v1/1/');\n  const inputRef = useRef();\n\n  useEffect(() => {\n    fetch(url + 'list.php?i=list').then(res => res.json()).then(data => {\n      setAllIngredients(data.meals);\n      setIsLoading(true);\n    })\n  }, [isLoading, url]);\n\n\n  const filtreIngrdients = () => {\n    const searchValue = inputRef.current.value;\n    const filteredIngredients = allIngredients.filter(ingredient => {\n      return ingredient.strIngredient.toLowerCase().includes(searchValue.toLowerCase());\n    });\n    setAllIngredients(filteredIngredients);\n  };\n\n  const autocomplete = (inp) => {\n    var currentFocus;\n    inp.addEventListener(\"input\", function (e) {\n      var a, b, i, val = this.value;\n      closeAllLists();\n      if (!val) { return false; }\n      currentFocus = -1;\n      a = document.createElement(\"DIV\");\n      a.setAttribute(\"id\", this.id + \"autocomplete-list\");\n      a.setAttribute(\"class\", \"autocomplete-items\");\n      this.parentNode.appendChild(a);\n      for (i = 0; i < allIngredients.length; i++) {\n        if (allIngredients[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\n          b = document.createElement(\"DIV\");\n          b.innerHTML = \"<strong>\" + allIngredients[i].substr(0, val.length) + \"</strong>\";\n          b.innerHTML += allIngredients[i].substr(val.length);\n          b.innerHTML += \"<input type='hidden' value='\" + allIngredients[i] + \"'>\";\n          b.addEventListener(\"click\", function (e) {\n            inp.value = this.getElementsByTagName(\"input\")[0].value;\n            closeAllLists();\n          });\n          a.appendChild(b);\n        }\n      }\n    });\n    inp.addEventListener(\"keydown\", function (e) {\n      var x = document.getElementById(this.id + \"autocomplete-list\");\n      if (x) x = x.getElementsByTagName(\"div\");\n      if (e.keyCode == 40) {\n        currentFocus++;\n        addActive(x);\n      } else if (e.keyCode == 38) { //up\n        currentFocus--;\n        addActive(x);\n      } else if (e.keyCode == 13) {\n        e.preventDefault();\n        if (currentFocus > -1) {\n          if (x) x[currentFocus].click();\n        }\n      }\n    });\n    function addActive(x) {\n      if (!x) return false;\n      removeActive(x);\n      if (currentFocus >= x.length) currentFocus = 0;\n      if (currentFocus < 0) currentFocus = (x.length - 1);\n      x[currentFocus].classList.add(\"autocomplete-active\");\n    }\n    function removeActive(x) {\n      for (var i = 0; i < x.length; i++) {\n        x[i].classList.remove(\"autocomplete-active\");\n      }\n    }\n    function closeAllLists(elmnt) {\n      var x = document.getElementsByClassName(\"autocomplete-items\");\n      for (var i = 0; i < x.length; i++) {\n        if (elmnt != x[i] && elmnt != inp) {\n          x[i].parentNode.removeChild(x[i]);\n        }\n      }\n    }\n    document.addEventListener(\"click\", function (e) {\n      closeAllLists(e.target);\n    });\n  }\n  \n\n\n  return (\n    <div>\n      <h1>Ingredients</h1>\n      {isLoading ? (\n        <>\n          <input type=\"search\" className=\"search-bar\" ref={inputRef} onInput={filtreIngrdients} />\n\n\n          <div className=\"result-container\">\n            <div className=\"ingredients\">\n              {allIngredients.map((ingredient, index) => (\n                <div key={index} className=\"ingredient-item\">\n                  <p>{ingredient.strIngredient}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  );\n};\n\n\nexport default Ingredients;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}